<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Morphing CSS Polygon" />
    <title>Morphing CSS Polygon</title>
    <link rel="stylesheet" href="properties.css" />
    <link rel="stylesheet" href="keyframes.css" />
    <link rel="stylesheet" href="polygon.css" />
  </head>
  <body>
    <div class="grid-wrapper">
      <header>
        <h1>Click any polygon to pause or restart its animation.</h1>
        <h2>
          <a
            href="https://developer.mozilla.org/en-US/docs/Web/CSS/text-decoration-skip-ink"
            >Click this to read about the text-decoration-skip-ink CSS
            property.</a
          >
        </h2>
      </header>
      <div>
        <div class="polygon"></div>
        <p>The good one!</p>
      </div>
      <div>
        <div class="polygon"></div>
        <p>This one has max-sides set to 3</p>
      </div>
      <div>
        <div class="polygon"></div>
        <p>This one has max-sides set to 4</p>
      </div>
    </div>
  </body>
  <script>
    var polygon = document.querySelector(
      ".grid-wrapper :nth-child(3) .polygon"
    );
    polygon.style.setProperty("--max-sides", 3);
    polygon = document.querySelector(".grid-wrapper :nth-child(4) .polygon");
    polygon.style.setProperty("--max-sides", 4);

    document.querySelectorAll(".polygon").forEach((polygon, index) => {
      polygon.addEventListener("click", () => {
        if (polygon.style.getPropertyValue("animation-play-state"))
          polygon.style.removeProperty("animation-play-state");
        else polygon.style.setProperty("animation-play-state", "paused");
      });
    });
  </script>
</html>
